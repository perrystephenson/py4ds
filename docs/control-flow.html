<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Python for Data Science</title>
  <meta name="description" content="Python for Data Science">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Python for Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Python for Data Science" />
  
  
  

<meta name="author" content="Perry Stephenson">


<meta name="date" content="2018-11-04">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="importing-and-exporting.html">
<link rel="next" href="scripting.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python for Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-is-python"><i class="fa fa-check"></i><b>1.1</b> What is Python?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#setting-up-python"><i class="fa fa-check"></i><b>1.2</b> Setting up Python</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#getting-help"><i class="fa fa-check"></i><b>1.3</b> Getting Help</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="syntax.html"><a href="syntax.html"><i class="fa fa-check"></i><b>2</b> Base Syntax</a><ul>
<li class="chapter" data-level="2.1" data-path="syntax.html"><a href="syntax.html#types"><i class="fa fa-check"></i><b>2.1</b> Types</a></li>
<li class="chapter" data-level="2.2" data-path="syntax.html"><a href="syntax.html#comments"><i class="fa fa-check"></i><b>2.2</b> Comments</a></li>
<li class="chapter" data-level="2.3" data-path="syntax.html"><a href="syntax.html#basic-operations"><i class="fa fa-check"></i><b>2.3</b> Basic Operations</a></li>
<li class="chapter" data-level="2.4" data-path="syntax.html"><a href="syntax.html#strings"><i class="fa fa-check"></i><b>2.4</b> Strings</a></li>
<li class="chapter" data-level="2.5" data-path="syntax.html"><a href="syntax.html#type-casting"><i class="fa fa-check"></i><b>2.5</b> Type Casting</a></li>
<li class="chapter" data-level="2.6" data-path="syntax.html"><a href="syntax.html#lists-arrays-columns-vectors"><i class="fa fa-check"></i><b>2.6</b> Lists / Arrays / Columns / Vectors</a></li>
<li class="chapter" data-level="2.7" data-path="syntax.html"><a href="syntax.html#indexing"><i class="fa fa-check"></i><b>2.7</b> Indexing</a></li>
<li class="chapter" data-level="2.8" data-path="syntax.html"><a href="syntax.html#copy-modify"><i class="fa fa-check"></i><b>2.8</b> Copy / Modify</a></li>
<li class="chapter" data-level="2.9" data-path="syntax.html"><a href="syntax.html#grouping"><i class="fa fa-check"></i><b>2.9</b> Grouping</a></li>
<li class="chapter" data-level="2.10" data-path="syntax.html"><a href="syntax.html#missing-values-and-extreme-numbers"><i class="fa fa-check"></i><b>2.10</b> Missing values and extreme numbers</a></li>
<li class="chapter" data-level="2.11" data-path="syntax.html"><a href="syntax.html#booleans"><i class="fa fa-check"></i><b>2.11</b> Booleans</a></li>
<li class="chapter" data-level="2.12" data-path="syntax.html"><a href="syntax.html#dictionaries"><i class="fa fa-check"></i><b>2.12</b> Dictionaries</a></li>
<li class="chapter" data-level="2.13" data-path="syntax.html"><a href="syntax.html#functions"><i class="fa fa-check"></i><b>2.13</b> Functions</a><ul>
<li class="chapter" data-level="2.13.1" data-path="syntax.html"><a href="syntax.html#lambda-functions"><i class="fa fa-check"></i><b>2.13.1</b> Lambda functions</a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="syntax.html"><a href="syntax.html#methods"><i class="fa fa-check"></i><b>2.14</b> Methods</a></li>
<li class="chapter" data-level="2.15" data-path="syntax.html"><a href="syntax.html#namespaces"><i class="fa fa-check"></i><b>2.15</b> Namespaces</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html"><i class="fa fa-check"></i><b>3</b> Importing and Exporting</a><ul>
<li class="chapter" data-level="3.1" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#opening-text-files"><i class="fa fa-check"></i><b>3.1</b> Opening Text Files</a><ul>
<li class="chapter" data-level="3.1.1" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#plain-text"><i class="fa fa-check"></i><b>3.1.1</b> Plain Text</a></li>
<li class="chapter" data-level="3.1.2" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#tabular-data"><i class="fa fa-check"></i><b>3.1.2</b> Tabular Data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#relational-databases"><i class="fa fa-check"></i><b>3.2</b> Relational Databases</a><ul>
<li class="chapter" data-level="3.2.1" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#using-sqlalchemy"><i class="fa fa-check"></i><b>3.2.1</b> Using SQLAlchemy</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#exotic-filetypes"><i class="fa fa-check"></i><b>3.3</b> Exotic Filetypes</a><ul>
<li class="chapter" data-level="3.3.1" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#excel"><i class="fa fa-check"></i><b>3.3.1</b> Excel</a></li>
<li class="chapter" data-level="3.3.2" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#pickle-serialised"><i class="fa fa-check"></i><b>3.3.2</b> Pickle (serialised)</a></li>
<li class="chapter" data-level="3.3.3" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#hdf5"><i class="fa fa-check"></i><b>3.3.3</b> HDF5</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#working-with-the-file-system"><i class="fa fa-check"></i><b>3.4</b> Working with the file system</a></li>
<li class="chapter" data-level="3.5" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#retrieving-files-from-the-web"><i class="fa fa-check"></i><b>3.5</b> Retrieving files from the web</a><ul>
<li class="chapter" data-level="3.5.1" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#working-with-http-requests-directly"><i class="fa fa-check"></i><b>3.5.1</b> Working with HTTP requests directly</a></li>
<li class="chapter" data-level="3.5.2" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#using-the-requests-package"><i class="fa fa-check"></i><b>3.5.2</b> Using the requests package</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#parsing-html"><i class="fa fa-check"></i><b>3.6</b> Parsing HTML</a></li>
<li class="chapter" data-level="3.7" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#working-with-json"><i class="fa fa-check"></i><b>3.7</b> Working with JSON</a></li>
<li class="chapter" data-level="3.8" data-path="importing-and-exporting.html"><a href="importing-and-exporting.html#working-with-apis"><i class="fa fa-check"></i><b>3.8</b> Working with APIs</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>4</b> Control Flow</a><ul>
<li class="chapter" data-level="4.1" data-path="control-flow.html"><a href="control-flow.html#if-statements"><i class="fa fa-check"></i><b>4.1</b> If statements</a></li>
<li class="chapter" data-level="4.2" data-path="control-flow.html"><a href="control-flow.html#while-loop"><i class="fa fa-check"></i><b>4.2</b> While loop</a></li>
<li class="chapter" data-level="4.3" data-path="control-flow.html"><a href="control-flow.html#for-loop"><i class="fa fa-check"></i><b>4.3</b> For loop</a></li>
<li class="chapter" data-level="4.4" data-path="control-flow.html"><a href="control-flow.html#error-handling"><i class="fa fa-check"></i><b>4.4</b> Error Handling</a></li>
<li class="chapter" data-level="4.5" data-path="control-flow.html"><a href="control-flow.html#iterators-and-iterables"><i class="fa fa-check"></i><b>4.5</b> Iterators and Iterables</a><ul>
<li class="chapter" data-level="4.5.1" data-path="control-flow.html"><a href="control-flow.html#enumerate"><i class="fa fa-check"></i><b>4.5.1</b> Enumerate</a></li>
<li class="chapter" data-level="4.5.2" data-path="control-flow.html"><a href="control-flow.html#zip"><i class="fa fa-check"></i><b>4.5.2</b> Zip</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="control-flow.html"><a href="control-flow.html#list-comprehensions"><i class="fa fa-check"></i><b>4.6</b> List Comprehensions</a></li>
<li class="chapter" data-level="4.7" data-path="control-flow.html"><a href="control-flow.html#generators"><i class="fa fa-check"></i><b>4.7</b> Generators</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scripting.html"><a href="scripting.html"><i class="fa fa-check"></i><b>5</b> Scripting</a><ul>
<li class="chapter" data-level="5.1" data-path="scripting.html"><a href="scripting.html#imports"><i class="fa fa-check"></i><b>5.1</b> Imports</a></li>
<li class="chapter" data-level="5.2" data-path="scripting.html"><a href="scripting.html#boilerplate"><i class="fa fa-check"></i><b>5.2</b> Boilerplate</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="numpy-numeric-python.html"><a href="numpy-numeric-python.html"><i class="fa fa-check"></i><b>6</b> Numpy (Numeric Python)</a><ul>
<li class="chapter" data-level="6.1" data-path="numpy-numeric-python.html"><a href="numpy-numeric-python.html#numpy-arrays-1"><i class="fa fa-check"></i><b>6.1</b> Numpy arrays</a></li>
<li class="chapter" data-level="6.2" data-path="numpy-numeric-python.html"><a href="numpy-numeric-python.html#two-dimensional-numpy-arrays"><i class="fa fa-check"></i><b>6.2</b> Two dimensional numpy arrays</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pandas.html"><a href="pandas.html"><i class="fa fa-check"></i><b>7</b> Pandas</a><ul>
<li class="chapter" data-level="7.1" data-path="pandas.html"><a href="pandas.html#creation"><i class="fa fa-check"></i><b>7.1</b> Creation</a></li>
<li class="chapter" data-level="7.2" data-path="pandas.html"><a href="pandas.html#subsetting"><i class="fa fa-check"></i><b>7.2</b> Subsetting</a></li>
<li class="chapter" data-level="7.3" data-path="pandas.html"><a href="pandas.html#reading-in-chunks"><i class="fa fa-check"></i><b>7.3</b> Reading in chunks</a></li>
<li class="chapter" data-level="7.4" data-path="pandas.html"><a href="pandas.html#working-with-dataframes"><i class="fa fa-check"></i><b>7.4</b> Working with DataFrames</a><ul>
<li class="chapter" data-level="7.4.1" data-path="pandas.html"><a href="pandas.html#basics"><i class="fa fa-check"></i><b>7.4.1</b> Basics</a></li>
<li class="chapter" data-level="7.4.2" data-path="pandas.html"><a href="pandas.html#selecting-columns"><i class="fa fa-check"></i><b>7.4.2</b> Selecting Columns</a></li>
<li class="chapter" data-level="7.4.3" data-path="pandas.html"><a href="pandas.html#counting-values"><i class="fa fa-check"></i><b>7.4.3</b> Counting Values</a></li>
<li class="chapter" data-level="7.4.4" data-path="pandas.html"><a href="pandas.html#plotting-things"><i class="fa fa-check"></i><b>7.4.4</b> Plotting Things</a></li>
<li class="chapter" data-level="7.4.5" data-path="pandas.html"><a href="pandas.html#reshaping-data-tidy-data"><i class="fa fa-check"></i><b>7.4.5</b> Reshaping Data (Tidy Data)</a></li>
<li class="chapter" data-level="7.4.6" data-path="pandas.html"><a href="pandas.html#chaining-methods"><i class="fa fa-check"></i><b>7.4.6</b> Chaining methods</a></li>
<li class="chapter" data-level="7.4.7" data-path="pandas.html"><a href="pandas.html#concatenation"><i class="fa fa-check"></i><b>7.4.7</b> Concatenation</a></li>
<li class="chapter" data-level="7.4.8" data-path="pandas.html"><a href="pandas.html#joining-merging"><i class="fa fa-check"></i><b>7.4.8</b> Joining (Merging)</a></li>
<li class="chapter" data-level="7.4.9" data-path="pandas.html"><a href="pandas.html#types-1"><i class="fa fa-check"></i><b>7.4.9</b> Types</a></li>
<li class="chapter" data-level="7.4.10" data-path="pandas.html"><a href="pandas.html#apply"><i class="fa fa-check"></i><b>7.4.10</b> Apply</a></li>
<li class="chapter" data-level="7.4.11" data-path="pandas.html"><a href="pandas.html#duplicates"><i class="fa fa-check"></i><b>7.4.11</b> Duplicates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualisation.html"><a href="visualisation.html"><i class="fa fa-check"></i><b>8</b> Visualisation</a><ul>
<li class="chapter" data-level="8.1" data-path="visualisation.html"><a href="visualisation.html#matplotlib"><i class="fa fa-check"></i><b>8.1</b> Matplotlib</a></li>
<li class="chapter" data-level="8.2" data-path="visualisation.html"><a href="visualisation.html#line-plot"><i class="fa fa-check"></i><b>8.2</b> Line Plot</a></li>
<li class="chapter" data-level="8.3" data-path="visualisation.html"><a href="visualisation.html#scatter-plot"><i class="fa fa-check"></i><b>8.3</b> Scatter Plot</a></li>
<li class="chapter" data-level="8.4" data-path="visualisation.html"><a href="visualisation.html#text"><i class="fa fa-check"></i><b>8.4</b> Text</a></li>
<li class="chapter" data-level="8.5" data-path="visualisation.html"><a href="visualisation.html#histograms"><i class="fa fa-check"></i><b>8.5</b> Histograms</a></li>
<li class="chapter" data-level="8.6" data-path="visualisation.html"><a href="visualisation.html#modifiers"><i class="fa fa-check"></i><b>8.6</b> Modifiers</a><ul>
<li class="chapter" data-level="8.6.1" data-path="visualisation.html"><a href="visualisation.html#scales"><i class="fa fa-check"></i><b>8.6.1</b> Scales</a></li>
<li class="chapter" data-level="8.6.2" data-path="visualisation.html"><a href="visualisation.html#labels"><i class="fa fa-check"></i><b>8.6.2</b> Labels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="text-1.html"><a href="text-1.html"><i class="fa fa-check"></i><b>9</b> Text</a><ul>
<li class="chapter" data-level="9.1" data-path="text-1.html"><a href="text-1.html#regular-expressions-regex"><i class="fa fa-check"></i><b>9.1</b> Regular Expressions (regex)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-flow" class="section level1">
<h1><span class="header-section-number">4</span> Control Flow</h1>
<p>Bottom line up front, Python is weird about groupings. Instead of using braces and making things clear and explicit, Python enforces indentation as a way of grouping code. What this means if you have both spaces and tabs is unclear, but it’s certainly going to get confusing. Add to this Python’s mixed bag when it comes to putting function arguments in brackets and we’ve got a real mess.</p>
<div id="if-statements" class="section level2">
<h2><span class="header-section-number">4.1</span> If statements</h2>
<p>The general syntax for an if statement is:</p>
<pre><code>if condition :
    execute this
    and this because we&#39;re still indented
execute this regardless because we&#39;ve got no indent</code></pre>
<p>The general syntax for an if else statement is:</p>
<pre><code>if condition :
    execute this
else :
    execute this</code></pre>
<p>The general syntax for an else if statement is:</p>
<pre><code>if condition :
    execute this
elif condition :
    execute this
else :
    execute this</code></pre>
</div>
<div id="while-loop" class="section level2">
<h2><span class="header-section-number">4.2</span> While loop</h2>
<p>The general syntax for a while loop is:</p>
<pre><code>while condition :
    expression</code></pre>
</div>
<div id="for-loop" class="section level2">
<h2><span class="header-section-number">4.3</span> For loop</h2>
<p>The general syntax for a for loop is:</p>
<pre><code>for var in seq :
    expression</code></pre>
<p>You can also do inline enumeration if you want to (to get access to the index as well as the value), but it’s a bit flimsy and hard to understand because it only exists in the for loop syntax (so you can’t easily debug how it works):</p>
<pre><code>for index, var in enumerate(seq):
    expression</code></pre>
<p>You can also iterate along multiple columns in nested lists:</p>
<pre><code>for room, area in house :
    expression</code></pre>
<p>To iterate through the rows of a pandas DataFrame, you can use the following:</p>
<pre><code>for lab, row in df.iterrows() :
    print(lab) # The row label
    print(row) # The pandas Series, i.e. a named list consisting of the row elements</code></pre>
<p>To iterate through key:value pairs in a dictionary, use:</p>
<pre><code>for key, val in dict.items() :
  print(key) # The key
  print(val) # The value</code></pre>
</div>
<div id="error-handling" class="section level2">
<h2><span class="header-section-number">4.4</span> Error Handling</h2>
<p>Error handling in Python seems to be based on the try-except model. You can use this to control execution flow conditional on the type of error raised, and you can raise your own errors using the <code>raise</code> keyword.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> sqrt(x) :
    <span class="co">&quot;&quot;&quot;Returns the square root of a number.&quot;&quot;&quot;</span>
    <span class="cf">try</span>:
        <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> :
            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&#39;x must be non-negative&#39;</span>)
        <span class="cf">return</span> x <span class="op">**</span> <span class="fl">0.5</span>
    <span class="cf">except</span> <span class="pp">TypeError</span>:   <span class="co"># This section will execute if there is a TypeError</span>
        <span class="bu">print</span>(<span class="st">&#39;x must be an int or a float&#39;</span>)
        
<span class="bu">print</span>(sqrt(<span class="dv">4</span>))</code></pre></div>
<pre><code>## 2.0</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(sqrt(<span class="st">&#39;4&#39;</span>))</code></pre></div>
<pre><code>## x must be an int or a float
## None</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(sqrt(<span class="op">-</span><span class="dv">4</span>))</code></pre></div>
<pre><code>## ValueError: x must be non-negative
## 
## Detailed traceback: 
##   File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
##   File &quot;&lt;string&gt;&quot;, line 5, in sqrt</code></pre>
<p>Amongst all the printout, you can see that this has indeed raised a ValueError with the error message specified.</p>
</div>
<div id="iterators-and-iterables" class="section level2">
<h2><span class="header-section-number">4.5</span> Iterators and Iterables</h2>
<ul>
<li>Examples include lists, strings, dictionaries, file connections</li>
<li>They need to have an <code>iter()</code> method</li>
<li>Applying <code>iter()</code> to an iterable creates an iterator</li>
<li>Iterators need to have a <code>next()</code> method</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">word <span class="op">=</span> <span class="st">&quot;Dog&quot;</span>
it <span class="op">=</span> <span class="bu">iter</span>(word)
<span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## D</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## o</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## g</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## StopIteration: 
## 
## Detailed traceback: 
##   File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</code></pre>
<p>You can also use the “splat” operator to get all remaining elements.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">word <span class="op">=</span> <span class="st">&quot;Hello&quot;</span>
it <span class="op">=</span> <span class="bu">iter</span>(word)
<span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## H</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="op">*</span>it)</code></pre></div>
<pre><code>## e l l o</code></pre>
<div id="enumerate" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Enumerate</h3>
<p>The <code>enumerate()</code> function can be used to return an iterator which gives two values, the <em>index</em> and the <em>value</em> of the underlying iterable.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">words <span class="op">=</span> [<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;World&quot;</span>, <span class="st">&quot;!!!&quot;</span>]
<span class="cf">for</span> i, x <span class="kw">in</span> <span class="bu">enumerate</span>(words) :
  <span class="bu">print</span>(i, x)</code></pre></div>
<pre><code>## 0 Hello
## 1 World
## 2 !!!</code></pre>
</div>
<div id="zip" class="section level3">
<h3><span class="header-section-number">4.5.2</span> Zip</h3>
<p>The <code>zip()</code> function can be used to take two or more lists and “zip” them together into a single iterable.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">list1 <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="op">;</span> list2 <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>]<span class="op">;</span> list3 <span class="op">=</span> [<span class="dv">20</span>,<span class="dv">21</span>,<span class="dv">22</span>,<span class="dv">23</span>]
<span class="cf">for</span> a, b, c <span class="kw">in</span> <span class="bu">zip</span>(list1, list2, list3) :
  <span class="bu">print</span>(a, b, c)</code></pre></div>
<pre><code>## 0 10 20
## 1 11 21
## 2 12 22
## 3 13 23</code></pre>
<p>You can also use the <code>zip()</code> function to unzip, by using the splat operator.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">tuple1 <span class="op">=</span> (<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)<span class="op">;</span> tuple2 <span class="op">=</span> (<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)<span class="op">;</span>
z <span class="op">=</span> <span class="bu">zip</span>(tuple1, tuple2)
result1, result2 <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>z)
<span class="bu">print</span>(result1 <span class="op">==</span> tuple1)</code></pre></div>
<pre><code>## True</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(result2 <span class="op">==</span> tuple2)</code></pre></div>
<pre><code>## True</code></pre>
</div>
</div>
<div id="list-comprehensions" class="section level2">
<h2><span class="header-section-number">4.6</span> List Comprehensions</h2>
<p>List comprehensions collapse for loops for building lists into a single line. You can write a list comprehension over any iterable. The general structure is:</p>
<pre><code>&lt;result&gt; = [&lt;output expression&gt; for &lt;iterator variable&gt; in &lt;iterable&gt;]</code></pre>
<p>Some examples:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">nums <span class="op">=</span> [<span class="dv">12</span>, <span class="dv">8</span>, <span class="dv">21</span>, <span class="dv">3</span>, <span class="dv">16</span>]
new_nums <span class="op">=</span> [num <span class="op">+</span> <span class="dv">1</span> <span class="cf">for</span> num <span class="kw">in</span> nums]
<span class="bu">print</span>(new_nums)</code></pre></div>
<pre><code>## [13, 9, 22, 4, 17]</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">result <span class="op">=</span> [num <span class="cf">for</span> num <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">11</span>)]
<span class="bu">print</span>(result)</code></pre></div>
<pre><code>## [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code></pre>
<p>You can also use nested comprehensions by chaining multiple for statements together, but it starts to get a bit ugly.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">pairs <span class="op">=</span> [(num1, num2) <span class="cf">for</span> num1 <span class="kw">in</span> <span class="bu">range</span> (<span class="dv">0</span>,<span class="dv">2</span>) <span class="cf">for</span> num2 <span class="kw">in</span> <span class="bu">range</span> (<span class="dv">6</span>,<span class="dv">8</span>)]
<span class="bu">print</span>(pairs)</code></pre></div>
<pre><code>## [(0, 6), (0, 7), (1, 6), (1, 7)]</code></pre>
<p>You can also use <em>conditionals</em> within list comprehensions. The general syntax is:</p>
<pre><code>&lt;result&gt; = [&lt;output&gt; for &lt;ivar&gt; in &lt;iterable&gt; if &lt;condition&gt;]</code></pre>
<p>For example, to make a list of the squares of only even numbers, you could use:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>([num <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> num <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>) <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>])</code></pre></div>
<pre><code>## [0, 4, 16, 36, 64]</code></pre>
<p>You can also use conditionals on the output expression, with the general syntax</p>
<pre><code>&lt;result&gt; = [&lt;true output&gt; if &lt;condition&gt; else &lt;false output&gt; for &lt;ivar&gt; in &lt;iterable&gt;]</code></pre>
<p>For example, to square even numbers but not square odd numbers, you could use:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>([num <span class="op">**</span> <span class="dv">2</span> <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> num <span class="cf">for</span> num <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)])</code></pre></div>
<pre><code>## [0, 1, 4, 3, 16, 5, 36, 7, 64, 9]</code></pre>
<p>You can also create <em>dictionary</em> comprehensions using the same syntax.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># Create a list of strings: fellowship</span>
fellowship <span class="op">=</span> [<span class="st">&#39;frodo&#39;</span>, <span class="st">&#39;samwise&#39;</span>, <span class="st">&#39;merry&#39;</span>, <span class="st">&#39;aragorn&#39;</span>, <span class="st">&#39;legolas&#39;</span>, <span class="st">&#39;boromir&#39;</span>, <span class="st">&#39;gimli&#39;</span>]
<span class="co"># Create dict comprehension: new_fellowship</span>
new_fellowship <span class="op">=</span> {member:<span class="bu">len</span>(member) <span class="cf">for</span> member <span class="kw">in</span> fellowship}
<span class="co"># Print the new list</span>
<span class="bu">print</span>(new_fellowship)</code></pre></div>
<pre><code>## {&#39;frodo&#39;: 5, &#39;samwise&#39;: 7, &#39;merry&#39;: 5, &#39;aragorn&#39;: 7, &#39;legolas&#39;: 7, &#39;boromir&#39;: 7, &#39;gimli&#39;: 5}</code></pre>
</div>
<div id="generators" class="section level2">
<h2><span class="header-section-number">4.7</span> Generators</h2>
<p>A generator is like a list comprehension, except that it does not store the list in memory. You can create a generator by replacing <code>[]</code> with <code>()</code> in any list comprehension statement. It behaves like any other iterator, except that the value is <em>lazily evaluated</em> - i.e. the elements of the sequence are only calculated at the time they’re needed.</p>
<p>As a trivial example of why this could be useful, the following code will cause my Python session to crash:</p>
<pre><code>[num for num in range(10**1000000)]</code></pre>
<p>But I can comfortably create a generator which I can use as an iterable:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">it <span class="op">=</span> (num <span class="cf">for</span> num <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span><span class="op">**</span><span class="dv">1000000</span>))
<span class="bu">print</span>(it)</code></pre></div>
<pre><code>## &lt;generator object &lt;genexpr&gt; at 0x123aff518&gt;</code></pre>
<p>You can also write generator functions which can include any arbitrary code. The only difference between normal functions and generator functions is that instead of using <code>return</code> to return all objects at once, a generator function will use <code>yield</code> multiple times throughout the execution of the function. When the generator function is iterated over, the function will run through the code until it hits <code>yield</code>, then it will return that value to the called (which most likely called <code>next()</code> on the iterator), and then pause execution. The next time <code>next()</code> is called, it will yield the next value, and so on until the generator function is exhausted (when the function finishes).</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> num_sequence(n) :
  i <span class="op">=</span> <span class="dv">0</span>
  <span class="cf">while</span> i <span class="op">&lt;</span> n :
    <span class="cf">yield</span> i
    i <span class="op">+=</span> <span class="dv">1</span>
it <span class="op">=</span> num_sequence(<span class="dv">3</span>)
<span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## 0</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## 1</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="bu">next</span>(it))</code></pre></div>
<pre><code>## 2</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">for</span> num <span class="kw">in</span> num_sequence(<span class="dv">3</span>) :
  <span class="bu">print</span>(num)</code></pre></div>
<pre><code>## 0
## 1
## 2</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-and-exporting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="scripting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/perrystephenson/py4ds/edit/master/03-controlflow.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
